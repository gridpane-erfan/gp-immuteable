!function(){"use strict";var e={n:function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(o,{a:o}),o},d:function(t,o){for(var s in o)e.o(o,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:o[s]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},t=window.wp.element,o=window.wp.blocks,s=window.lodash,n=window.wp.components,l=window.wp.i18n,a=window.wp.serverSideRender,c=e.n(a),r=window.wp.blockEditor,i=window.wp.data,d=e=>{let{onChange:o,value:s,filter:a=(()=>!0)}=e;const c=(0,i.useSelect)((e=>e("core").getPostTypes({per_page:-1})||[]),[]).filter((e=>!["attachment","wp_block"].includes(e.slug))).filter(a);return(0,t.createElement)(n.SelectControl,{label:(0,l.__)("Post Type","advanced-posts-blocks"),value:s.slug,options:c.map((e=>({label:e.name,value:e.slug}))),onChange:e=>{const t=c.find((t=>t.slug===e));o(t)}})},p=JSON.parse('{"name":"advanced-posts-blocks/post","apiVersion":2,"title":"Single Posts","description":"Display single post.","icon":"admin-post","textdomain":"advanced-posts-blocks","attributes":{"align":{"type":"string","enum":["center","wide","full"]},"postType":{"type":"string","default":"post"},"postId":{"type":"number","default":0}},"supports":{"align":["center","wide","full"],"html":false},"category":"widgets","editorScript":"file:./index.js"}');const{name:u}=p;const{name:g,supports:v,category:w}=p,m=(0,l.__)("Single Post","advanced-posts-blocks");(0,o.registerBlockType)(g,{supports:v,category:w,title:`${m} (Advanced Posts Blocks)`,description:(0,l.__)("Display single post.","advanced-posts-blocks"),keywords:["single post",(0,l.__)("single post","advanced-posts-blocks")],icon:(0,t.createElement)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},(0,t.createElement)(n.Path,{fill:"none",d:"M0 0h24v24H0V0z"}),(0,t.createElement)(n.Path,{d:"M8 16h8v2H8zm0-4h8v2H8zm6-10H6c-1.1 0-2 .9-2 2v16c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm4 18H6V4h7v5h5v11z"})),edit:e=>{let{attributes:o,setAttributes:a}=e;const[p,g]=(0,t.useState)(""),{postId:v}=o,{postType:w}=o,m=(b=w,(0,i.useSelect)((e=>e("core").getPostType(b)||{}),[b]));var b;const y=((e,t)=>(0,i.useSelect)((o=>t?o("core").getEntityRecord("postType",e.slug,t):null),[e,t]))(m,v);let _=((e,t)=>(0,i.useSelect)((o=>""===t.search?[]:o("core").getEntityRecords("postType",e.slug,t)||[]),[e.slug,t]))(m,{per_page:-1,advanced_posts_blocks:!0,search:p});y&&(_=(0,s.uniqBy)([y,..._],"id"));const h=(0,t.createElement)(n.ComboboxControl,{help:(0,l.__)("Select post","advanced-posts-blocks"),label:(0,l.__)("Post","advanced-posts-blocks"),value:v,options:[..._.map((e=>({label:`${e.title.rendered} (ID: ${e.id})`,value:e.id})))],onFilterValueChange:e=>{g(e)},onChange:e=>{a({postId:e?parseInt(e):void 0})}}),f=(0,l.__)("Query setting","advanced-posts-blocks"),k=(0,t.createElement)(r.InspectorControls,null,(0,t.createElement)(n.PanelBody,{title:f},(0,t.createElement)(d,{value:m,onChange:e=>{a({postId:void 0}),a({postType:e.slug})}}),h));return(0,t.createElement)("div",(0,r.useBlockProps)(),k,v?(0,t.createElement)(n.Disabled,null,(0,t.createElement)(c(),{block:u,attributes:o})):(0,t.createElement)(n.Placeholder,{icon:"admin-post",label:(0,l.__)("Single Post","advanced-posts-blocks")},(0,l.__)("Post Not Found.","advanced-posts-blocks")))},save:()=>null})}();